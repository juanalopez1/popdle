<li
    class="group/card w-full overflow-hidden rounded-lg bg-cover bg-center"
    style="background-image: url({{ this.track().album.images[2].url }});"
>
    <div
        class="flex h-full w-full max-w-full gap-4 p-4 backdrop-blur-xl backdrop-brightness-75"
    >
        <img
            [src]="this.track().album.images[2].url"
            alt=""
            class="aspect-square h-16 rounded drop-shadow"
        />
        <div class="flex w-full flex-col justify-between">
            <h3
                class="overflow-hidden text-ellipsis text-nowrap text-xl font-extrabold drop-shadow"
            >
                {{ this.track().name }}
            </h3>
            <div class="flex w-full flex-row items-end justify-between">
                <span class="w-full text-ellipsis text-nowrap drop-shadow">
                    {{ this.dict().by(this.track().artists) }}
                </span>
                @if (!this.readonly()) {
                    <button
                        [size]="'icon'"
                        hlmBtn
                        [variant]="'ghost'"
                        class="-mb-1 mr-2 h-fit w-fit rotate-[90deg] bg-transparent p-1 drop-shadow transition-all duration-300 ease-in-out group-focus-within/card:translate-y-0 group-focus-within/card:rotate-0 group-focus-within/card:duration-0 group-hover/card:translate-y-0 group-hover/card:rotate-0 sm:translate-y-[150%]"
                        (click)="this.play.emit(this.track())"
                    >
                        <hlm-icon name="lucidePlay"></hlm-icon>
                    </button>
                    <button
                        [size]="'icon'"
                        hlmBtn
                        [variant]="'destructive'"
                        class="-mb-1 h-fit w-fit rotate-[90deg] scale-75 bg-transparent p-1 drop-shadow transition-all delay-75 duration-300 ease-in-out group-focus-within/card:translate-y-0 group-focus-within/card:rotate-0 group-focus-within/card:scale-100 group-focus-within/card:delay-0 group-focus-within/card:duration-0 group-hover/card:translate-y-0 group-hover/card:rotate-0 group-hover/card:scale-100 sm:translate-y-[150%]"
                        (click)="this.destroy.emit(this.track())"
                    >
                        <hlm-icon name="lucideX"></hlm-icon>
                    </button>
                }
            </div>
        </div>
    </div>
</li>
